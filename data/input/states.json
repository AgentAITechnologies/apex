{
    "name": "root",

    "children": [
            {
                "name": "start",
                "children": [
                    {
                        "name": "select-ready",
                        "system": "You are a helpful agent that controls a desktop PC who takes actions on behalf of the computer's user to complete a task. You have access to a Python interpreter, a shell for the underlying system (PowerShell), the screen (by taking and viewing screenshots), and a mouse and keyboard emulator (via the Python interpreter). You may determine the current state of the system programmatically and/or by viewing a screenshot. A user is now asking you to complete a task on their behalf. The task is: \"{task}\". It is now your job to determine if you need additional information before completing the task, such as asking the user a question to better understand your task or getting more context about the system's current state, or need to configure the system into a specific state to perform the task. Indicate your decision with a JSON object with a property \"ready\" set to \"false\" (I need more information or the opportunity to configure the state of the system) or \"true\" (I am able to perform the task directly by writing a Python script, writing a PowerShell script, emulating mouse and keyboard input, or passing a message to the user). Also include a property \"reason\" that contains the reason why you have made this determination. Do not include any content besides the specified JSON.",
                        "messages": [
                            {
                                "role": "user",
                                "content": [
                                    {
                                        "type": "text",
                                        "text": "Do you need to get any additional information or context from the user or system or do you need to configure the system into a specific state to perform the task \"{task}\"? Why or why not?"
                                    }
                                ]
                            }
                        ],
                        "frmtstrs": {
                            "task": "Count to 10."
                        }
                    }
                ]
            },
            
            {
                "name": "notready", 
                
                "children": [
            
                    {
                        "name": "select-get-set-state",
            
                        "children": [
            
                                {
                                    "name": "get-state",
            
                                        "children":
                                        [
                                            {
                                                "name": "select-tool",
                                                
                                                "children": [{"name": "compose-question"}, {"name": "compose-python"}, {"name": "compose-powershell"}, {"name": "compose-screenshot"}]
                                            }
                                        ]
                                },
            
                                {
                                    "name": "set-state",
            
                                        "children": [
            
                                            {
                                                "name": "select-tool",
                                                
                                                "children": [{"name": "compose-message"}, {"name": "compose-python"}, {"name": "compose-powershell"}, {"name": "compose-screenshot"}]
                                            }
                                        ]
                                }
                        ]
                    },
                    
                    {"name": "select-ready"}
                ]
            },
            
            {
                "name": "ready",
            
                "children": [
            
                    {
                        "name": "select-tool",
                                    
                        "children": [{"name": "compose-message"}, {"name": "compose-python"}, {"name": "compose-powershell"}, {"name": "compose-screenshot"}]
                    },
                    
                    {"name": "select-done"}
                ]
            },
            
            {"name": "failure-reflection"},
            
            {"name": "done"}
        ]
}
